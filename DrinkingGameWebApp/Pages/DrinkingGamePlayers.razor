@using Models;
@inject NavigationManager UriHelper
@page "/drinkinggameplayers"

<PageTitle>Drinking Game Player Select</PageTitle>

<h1>Drinking Game Player Select</h1>

<form>
    <div>
        <label for="names">Enter names (with space in-between): </label>
        <input type="text" id="names" @bind-value="NamesList" />
    </div>
    <button type="submit" @onclick="HandleSubmit">Submit</button>
</form>

@code {
    private string NamesList { get; set; }

    private void HandleSubmit() {
        Global.Players = NamesList.Split(" ");
        Global.NumberOfPlayers = Global.Players.Length;


        System.Console.Write("Number of players: {0}\n", Global.NumberOfPlayers);
        foreach (string n in Global.Players) {
            System.Console.Write("{0} ", n);
        }
        UriHelper.NavigateTo("drinkinggame", true);
    }
}